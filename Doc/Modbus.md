# 圆美道跟焦Modbus

## Modbus格式

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |
|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | indeex_L | count_H | count_L | CRC_H | CRC_L |

## 测试实例

### 读取UID

#### 发送

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |
|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | index_L | count_H | count_L | CRC_L | CRC_H |
| 数据 | 01 | 04 | 00 | 04 | 00 | 06 | 31 | C9 |

Modbus指令： `01 04 00 04 00 06 31 C9`

#### 返回

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | length | data1 | data1 | data2 | data2 | data3 | data3 | data4 | data4 | data5 | data5 | data6 | data6 | CRC_L | CRC_R |
| 数据 | 01 | 04 | 0C | D0 | BC | 38 | 37 | 36 | 34 | 0B | 00 | 31 | 36 | 35 | 37 | 82 | 4D |

Modbus返回： `01 04 0C D0 BC 38 37 36 34 0B 00 31 36 35 37 82 4D`

<!-- ### 转到位置

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | index_L | count_H | count_L | length | data1_L | data1_H | data2_L | data2_H | CRC_L | CRC_H |
| 数据 | 01 | 10 | 00 | 04 | 00 | 02 | 04 | 00 | 00 | 20 | 1C | EA | 55 |

Modbus指令： `01 10 00 04 00 02 04 00 00 20 1C EA 55` -->

### 远程控制开启

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | index_L | count_H | count_L | length | data1_L | data1_H | data2_L | data2_H | CRC_L | CRC_H |
| 数据 | 01 | 10 | 00 | 00 | 00 | 02 | 04 | 01 | 00 | 01 | 00 | F3 | C3 |

Modbus指令： `01 10 00 00 00 02 04 01 00 01 00 F3 C3`

Modbus返回： `01 04 0C D0 BC 38 37 36 34 0B 00 31 36 35 37 82 4D`

### 行程学习

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | index_L | count_H | count_L | length | data1_L | data1_H | data2_L | data2_H | CRC_L | CRC_H |
| 数据 | 01 | 10 | 00 | 00 | 00 | 02 | 04 | FF | FF | 01 | 00 | F2 | 1B |

Modbus指令：`01 10 00 00 00 02 04 FF FF 01 00 F2 1B`

Modbus返回： `01 10 00 00 00 02 41 C8`

### 进入CSP模式+运行

| 字节 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 描述 | node_id | cmd | index_H | index_L | count_H | count_L | length | data1_L | data1_H | data2_L | data2_H | CRC_L | CRC_H |
| 数据 | 01 | 10 | 00 | 02 | 00 | 02 | 04 | 08 | 00 | 0F | 00 | 75 | E6 |

Modbus指令： `01 10 00 02 00 02 04 08 00 0F 00 75 E6`

Modbus返回： `01 10 00 00 00 02 41 C8`

### 使用比例定位模式，并且输入0



01 10 00 04 00 03 06 00 00 00 00 01 00 A6 C5

### 定位输入16383
01 10 00 04 00 02 04 FF 3F 00 00 F2 44